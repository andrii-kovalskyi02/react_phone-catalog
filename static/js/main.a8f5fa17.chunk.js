(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(49).concat([function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n,a=c(25),r=c.n(a),s=c(6),i=c(23),o=c(12),l=function(e){return fetch("https://mate-academy.github.io/react_phone-catalog/_new"+e).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}))},u=function(){return l("/products.json")},d=Object(o.b)("products/fetchProducts",(function(){return u()})),j=Object(o.c)({name:"products",initialState:{products:[],isLoading:!1,hasError:!1},reducers:{},extraReducers:function(e){e.addCase(d.pending,(function(e){e.isLoading=!0})).addCase(d.fulfilled,(function(e,t){e.products=t.payload,e.isLoading=!1,e.hasError=!1})).addCase(d.rejected,(function(e){e.isLoading=!1,e.hasError=!0}))}}),b=(j.actions,j.reducer),m=Object(o.c)({name:"search",initialState:{searchQuery:"",appliedSearchQuery:"",isSearchLoading:!1},reducers:{setSearchQuery:function(e,t){e.searchQuery=t.payload},setAppliedSearchQuery:function(e,t){e.appliedSearchQuery=t.payload},setIsSearchLoading:function(e,t){e.isSearchLoading=t.payload},clearSearchQuery:function(e){e.searchQuery="",e.appliedSearchQuery=""}}}),h=m.actions,f=h.setSearchQuery,O=h.setAppliedSearchQuery,p=h.setIsSearchLoading,_=h.clearSearchQuery,x=m.reducer,v=c(9);!function(e){e.Favorites="favorites",e.ShoppingCart="shoppingCart"}(n||(n={}));var g={favorites:JSON.parse(localStorage.getItem(n.Favorites)||"[]")},N=Object(o.c)({name:n.Favorites,initialState:g,reducers:{addFavoriteProduct:function(e,t){localStorage.setItem(n.Favorites,JSON.stringify([].concat(Object(v.a)(e.favorites),[t.payload]))),e.favorites.push(t.payload)},removeFavoriteProduct:function(e,t){var c=e.favorites.filter((function(e){return e.id!==t.payload.id}));localStorage.setItem(n.Favorites,JSON.stringify(c)),e.favorites=c}}}),y=N.actions,k=y.addFavoriteProduct,w=y.removeFavoriteProduct,C=N.reducer,S={cartItems:JSON.parse(localStorage.getItem("cart")||"[]")},E=Object(o.c)({name:"cart",initialState:S,reducers:{addToCart:function(e,t){localStorage.setItem("cart",JSON.stringify([].concat(Object(v.a)(e.cartItems),[t.payload]))),e.cartItems.push(t.payload)},removeFromCard:function(e,t){var c=e.cartItems.filter((function(e){return e.id!==t.payload.id}));localStorage.setItem("cart",JSON.stringify(c)),e.cartItems=c},addQuantity:function(e,t){var c=e.cartItems.find((function(e){return e.id===t.payload}));c&&(c.quantity+=1,localStorage.setItem("cart",JSON.stringify(Object(v.a)(e.cartItems))))},subtractQuantity:function(e,t){var c=e.cartItems.find((function(e){return e.id===t.payload}));c&&(c.quantity-=1,localStorage.setItem("cart",JSON.stringify(Object(v.a)(e.cartItems))))}}}),M=E.actions,T=M.addToCart,I=M.addQuantity,P=M.subtractQuantity,L=M.removeFromCard,F=E.reducer,q=Object(o.a)({reducer:{products:b,search:x,favorites:C,cart:F}}),Q=c(3),A=c(4),B=c(1),J=function(){return Object(i.b)()},R=i.c,W=Object(B.createContext)({windowWidth:window.innerWidth,isMobile:!1,isMenuClicked:!1,setIsMenuClicked:function(){}}),X=(c(49),c(0)),H=function(){var e=Object(B.useContext)(W).setIsMenuClicked;return Object(X.jsx)(s.b,{to:"/",className:"logo",onClick:function(){e&&e(!1)},children:Object(X.jsx)("img",{src:"_new/img/icons/logo.svg",alt:"Logo",className:"logo__image"})})},$=c(7),U=c.n($),z=[{name:"Home",to:"/"},{name:"Phones",to:"/phones"},{name:"Tablets",to:"/tablets"},{name:"Accessories",to:"/accessories"}],D=(c(52),function(){return Object(X.jsx)("nav",{className:"nav",children:Object(X.jsx)("ul",{className:"nav__list",children:z.map((function(e){var t=e.name,c=e.to;return Object(X.jsx)("li",{className:"nav_item",children:Object(X.jsx)(s.c,{className:function(e){var t=e.isActive;return U()("nav__link",{"nav__link--active":t})},to:c,children:t})},t)}))})})}),Y=(c(53),function(e){var t=e.type;return Object(X.jsx)("span",{className:"icon icon--".concat(t),"aria-label":"".concat(t," icon")})}),G=(c(54),function(e){var t=e.quantity;return t>0?Object(X.jsx)("span",{className:"counter",children:t}):Object(X.jsx)(X.Fragment,{})}),K=function(){var e=Object(B.useContext)(W),t=e.isMobile,c=e.setIsMenuClicked,n=R((function(e){return e.favorites})),a=n.favorites,r=t?"menu-mobile__icon":function(e){var t=e.isActive;return U()("header__top-actions header__top-actions--favorites",{"header__top-actions--active":t})};return Object(X.jsxs)(s.c,{to:"/favorites",className:r,onClick:function(){c&&c(!1)},children:[Object(X.jsx)(Y,{type:"favorites"}),Object(X.jsx)(G,{quantity:a.length})]})},V=function(e,t){return e.reduce((function(e,c){var n=c.quantity,a=c.price;return"quantity"===t?e+n:e+a*n}),0)},Z=function(){var e=Object(B.useContext)(W),t=e.isMobile,c=e.setIsMenuClicked,n=R((function(e){return e.cart})),a=n.cartItems,r=t?"menu-mobile__icon":function(e){var t=e.isActive;return U()("header__top-actions header__top-actions--cart",{"header__top-actions--active":t})};return Object(X.jsxs)(s.c,{to:"/cart",className:r,onClick:function(){c&&c(!1)},children:[Object(X.jsx)(Y,{type:"cart"}),Object(X.jsx)(G,{quantity:V(a,"quantity")})]})},ee=c(38),te=c.n(ee),ce=(c(55),function(e){var t=e.dataCy,c=e.className,n=e.content,a=e.iconType,r=void 0===a?"":a,s=e.iconPosition,i=e.disabled,o=e.onClick;return Object(X.jsxs)("button",{type:"button","data-cy":t,className:"button button--".concat(c),disabled:i,onClick:o,children:["left"===s&&r&&Object(X.jsx)(Y,{type:r}),n,"right"===s&&r&&Object(X.jsx)(Y,{type:r})]})});function ne(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(A.a)(e,2),n=t[0],a=t[1];null===a?c.delete(n):Array.isArray(a)?(c.delete(n),a.forEach((function(e){c.append(n,e)}))):c.set(n,a)})),c.toString()}ce.defaultProps={dataCy:null,content:"",iconType:"",iconPosition:"left",disabled:!1,onClick:function(){}};c(56);var ae,re=function(e){var t=e.currentPage,c=e.isSearchButtonClicked,n=e.onSearchButtonClicked,a=e.isSearchBoxExpanded,r=J(),i=R((function(e){return e.search})),o=i.searchQuery,l=Object(s.d)(),u=Object(A.a)(l,2),d=u[0],j=u[1],b=Object(B.useRef)(null);Object(B.useEffect)((function(){var e=function(e){b.current&&!b.current.contains(e.target)&&n(!0)},t=function(e){"Escape"!==e.key||c||n(!0)};return document.addEventListener("click",e),document.addEventListener("keydown",t),function(){document.removeEventListener("click",e),document.removeEventListener("keydown",t)}}),[c]),Object(B.useEffect)((function(){if(j(ne(d,{query:o||null})),o){r(p(!0));var e=setTimeout((function(){r(p(!1))}),499);return function(){j(ne(d,{query:null})),clearTimeout(e)}}r(p(!1))}),[o,d]),Object(B.useEffect)((function(){return function(){r(_())}}),[]);var m=o&&(!c||a),h=Object(B.useMemo)((function(){return te()((function(e){return r(O(e))}),500)}),[]);return Object(X.jsxs)("form",{className:"search header__top-actions--search",ref:b,onSubmit:function(e){e.preventDefault(),a||n(!c)},children:[Object(X.jsx)("input",{type:"text",value:o,className:U()("search__input",{"search__input--hidden":c&&!a}),placeholder:"Search in ".concat(t,"..."),onChange:function(e){r(f(e.target.value)),h(e.target.value)}}),m?Object(X.jsx)(ce,{dataCy:"searchDelete",className:"remove",iconType:"remove",onClick:function(){return r(_())}}):Object(X.jsx)(ce,{className:"search",iconType:"search",onClick:function(){return n(!c)}})]})},se=(c(57),function(){var e=Object(B.useContext)(W),t=e.isMobile,c=e.windowWidth,n=e.setIsMenuClicked,a=Object(B.useState)(!1),r=Object(A.a)(a,2),s=r[0],i=r[1],o=Object(B.useState)(!1),l=Object(A.a)(o,2),u=l[0],d=l[1],j=Object(Q.m)().pathname;Object(B.useEffect)((function(){i("/"!==j&&"/cart"!==j)}),[j]),Object(B.useEffect)((function(){c<1024&&d(!0)}),[c]);var b=u||c>1023||!s,m=t&&b;return Object(X.jsx)("header",{className:"header",children:Object(X.jsxs)("div",{className:"header__content",children:[Object(X.jsxs)("div",{className:"header__left-bar",children:[Object(X.jsx)(H,{}),!t&&Object(X.jsx)(D,{})]}),Object(X.jsxs)("div",{className:"header__right-bar",children:[s&&Object(X.jsx)(re,{currentPage:j.slice(1),isSearchButtonClicked:u,onSearchButtonClicked:d,isSearchBoxExpanded:c>1023}),b&&!t&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(K,{}),Object(X.jsx)(Z,{})]}),m&&Object(X.jsx)(ce,{className:"burger-menu",iconType:"burger-menu",onClick:function(){return n(!0)}})]})]})})}),ie=(c(58),function(){return Object(X.jsxs)("div",{className:"back-to-top",children:[Object(X.jsx)("span",{className:"back-to-top__text",children:"Back to top"}),Object(X.jsx)(ce,{className:"back-to-top",iconType:"arrow-up",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}})]})}),oe=(c(59),[{name:"Github",to:"https://github.com/andrii-kovalskyi02"},{name:"Contacts",to:"/"},{name:"Rights",to:"/"}]),le=function(){return Object(X.jsxs)("footer",{className:"footer",children:[Object(X.jsx)(H,{}),Object(X.jsx)("ul",{className:"footer__list",children:oe.map((function(e){var t=e.name,c=e.to;return Object(X.jsx)("li",{className:"footer__item",children:Object(X.jsx)(s.b,{to:c,className:"footer__link",children:t})},t)}))}),Object(X.jsx)(ie,{})]})},ue=(c(60),function(){var e=Object(B.useContext)(W),t=e.isMenuClicked,c=e.setIsMenuClicked;return Object(B.useEffect)((function(){document.body.style.overflowY=t?"hidden":"visible";var e=function(e){"Escape"===e.key&&t&&c(!1)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]),Object(X.jsxs)("nav",{className:U()("menu-mobile",{"menu-mobile--opened":t}),children:[Object(X.jsxs)("div",{className:"menu-mobile__top",children:[Object(X.jsx)(H,{}),Object(X.jsx)(ce,{className:"close-menu",iconType:"remove",onClick:function(){return c(!1)}})]}),Object(X.jsxs)("div",{className:"menu-mobile__content",children:[Object(X.jsx)("ul",{className:"menu-mobile__list",children:z.map((function(e){var t=e.name,n=e.to;return Object(X.jsx)("li",{className:"menu-mobile__item",children:Object(X.jsx)(s.c,{className:function(e){var t=e.isActive;return U()("menu-mobile__link",{"menu-mobile__link--active":t})},to:n,onClick:function(){return c(!1)},children:t})},t)}))}),Object(X.jsxs)("div",{className:"menu-mobile__icons",children:[Object(X.jsx)(K,{}),Object(X.jsx)(Z,{})]})]})]})}),de=function(e){var t=e.children,c=J(),n=Object(B.useState)(window.innerWidth),a=Object(A.a)(n,2),r=a[0],s=a[1],i=Object(B.useState)(!1),o=Object(A.a)(i,2),l=o[0],u=o[1],j=Object(B.useState)(!1),b=Object(A.a)(j,2),m=b[0],h=b[1];return Object(B.useEffect)((function(){h(r<768)}),[r]),Object(B.useEffect)((function(){var e=function(){s(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(B.useEffect)((function(){c(d())}),[]),Object(X.jsxs)(W.Provider,{value:{windowWidth:r,isMobile:m,isMenuClicked:l,setIsMenuClicked:u},children:[Object(X.jsx)(se,{}),Object(X.jsx)("main",{style:{flex:1},children:t}),Object(X.jsx)(le,{}),Object(X.jsx)(ue,{})]})},je=["_new/img/banner-phones.png","_new/img/banner-tablets.png","_new/img/banner-accessories.png"],be=(c(61),function(){var e=Object(B.useState)(0),t=Object(A.a)(e,2),c=t[0],n=t[1],a=Object(B.useState)(0),r=Object(A.a)(a,2),s=r[0],i=r[1],o=Object(B.useContext)(W).isMobile,l=function(e){var t=je.length-1,a=c+e;e<0&&(0===c?a=t:a<0&&(a=0)),e>0&&(c===t?a=0:a>t&&(a=t)),n(a)};return Object(B.useEffect)((function(){var e=setTimeout((function(){l(1)}),5e3);return function(){return clearTimeout(e)}}),[l]),Object(X.jsxs)("div",{className:"banner",children:[!o&&Object(X.jsx)(ce,{className:"banner-arrow",iconType:"arrow-left",onClick:function(){return l(-1)}}),Object(X.jsxs)("div",{className:"banner__carousel-container",children:[Object(X.jsx)("div",{className:"banner__carousel",style:{transform:"translateX(".concat(100*-c,"%)"),transition:"transform 800ms"},onTouchStart:function(e){i(e.touches[0].clientX)},onTouchEnd:function(e){var t=e.changedTouches[0].clientX-s;t>50?l(-1):t<-50&&l(1)},children:je.map((function(e,t){return Object(X.jsx)("img",{src:e,alt:"Banner img ".concat(t+1),className:"banner__img"},e)}))}),Object(X.jsx)("div",{className:"banner__indicators",children:je.map((function(e,t){return Object(X.jsx)("button",{type:"button","aria-label":"Current banner image indicator",className:U()("banner__indicator",{"banner__indicator--active":c===t}),onClick:function(){return n(t)}},e)}))})]}),!o&&Object(X.jsx)(ce,{className:"banner-arrow",iconType:"arrow-right",onClick:function(){return l(1)}})]})}),me=c(19);!function(e){e.HotPrice="Hot prices",e.BrandNew="Brand new models",e.RandomProducts="You may also like"}(ae||(ae={}));c(62);var he=function(e){var t=e.sectionTitle,c=e.product,n=J(),a=R((function(e){return e.favorites})).favorites,r=R((function(e){return e.cart})).cartItems,s=Object(B.useMemo)((function(){return a.some((function(e){return e.id===c.id}))}),[a]),i=Object(B.useMemo)((function(){return r.some((function(e){return e.id===c.id}))}),[r]),o=c.image,l=c.name,u=c.price,d=c.fullPrice,j=c.screen,b=c.capacity,m=c.ram;return Object(X.jsxs)("div",{className:"card","data-cy":"cardsContainer",children:[Object(X.jsx)("img",{src:"_new/".concat(o),alt:l,className:"card__img"}),Object(X.jsx)("h2",{className:"card__title",children:l}),Object(X.jsx)("div",{className:"card__price",children:t===ae.BrandNew?Object(X.jsx)("p",{className:"card__price-regular",children:"$".concat(d)}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("p",{className:"card__price-regular",children:"$".concat(u)}),Object(X.jsx)("p",{className:"card__price-discount",children:"$".concat(d)})]})}),Object(X.jsxs)("div",{className:"card__specs-container",children:[Object(X.jsxs)("div",{className:"card__specs",children:[Object(X.jsx)("p",{className:"card__specs-title",children:"Screen"}),Object(X.jsx)("p",{className:"card__specs-value",children:j})]}),Object(X.jsxs)("div",{className:"card__specs",children:[Object(X.jsx)("p",{className:"card__specs-title",children:"Capacity"}),Object(X.jsx)("p",{className:"card__specs-value",children:b})]}),Object(X.jsxs)("div",{className:"card__specs",children:[Object(X.jsx)("p",{className:"card__specs-title",children:"RAM"}),Object(X.jsx)("p",{className:"card__specs-value",children:m})]})]}),Object(X.jsxs)("div",{className:"card__buttons",children:[Object(X.jsx)(ce,{content:i?"Added to cart":"Add to cart",className:U()("add-to-cart",{"button--add-to-cart--active":i}),onClick:function(){n(i?L(c):T(Object(me.a)(Object(me.a)({},c),{},{quantity:1})))}}),Object(X.jsx)(ce,{dataCy:"addToFavorite",className:U()("favorites",{"button--favorites--active":s}),iconType:s?"favorites-filled":"favorites",onClick:function(){n(s?w(c):k(c))}})]})]})},fe=function(e){var t=e.sectionTitle,c=void 0===t?ae.RandomProducts:t,n=e.products;return Object(X.jsx)(X.Fragment,{children:n.map((function(e){return Object(X.jsx)(he,{sectionTitle:c,product:e},e.id)}))})};fe.defaultProps={sectionTitle:ae.RandomProducts};c(63);var Oe,pe=function(e){var t=e.children,c=e.title,n=e.itemsLength,a=Object(B.useState)(0),r=Object(A.a)(a,2),s=r[0],i=r[1],o=Object(B.useState)(0),l=Object(A.a)(o,2),u=l[0],d=l[1],j=Object(B.useState)(4),b=Object(A.a)(j,2),m=b[0],h=b[1],f=Object(B.useContext)(W),O=f.windowWidth,p=f.isMobile;Object(B.useEffect)((function(){h(O<768?1:O<1024?2:O<1440?3:4)}),[O]);var _=Object(B.useCallback)((function(){return n-m}),[m,n]),x=Object(B.useMemo)((function(){return 0===s}),[s]),v=Object(B.useMemo)((function(){return s>=_()}),[s]),g=function(e){var t=n-1,c=s+e;e<0&&(0===s?c=t:c<0&&(c=0)),e>0&&(s===t?c=0:c>t&&(c=t)),i(c)},N=Object(B.useCallback)((function(e){d(e.touches[0].clientX)}),[]),y=Object(B.useCallback)((function(e){var t=e.changedTouches[0].clientX;u-t>50&&!v?g(1):t-u>50&&!x&&g(-1)}),[v,x,g]);return Object(X.jsxs)("div",{className:"products-slider",children:[Object(X.jsxs)("div",{className:"products-slider__top",children:[Object(X.jsx)("h1",{className:"products-slider__title",children:c}),Object(X.jsxs)("div",{className:"products-slider__buttons",children:[Object(X.jsx)(ce,{className:U()("slider-arrow",{"button--slider-arrow--disabled":x}),iconType:x?"arrow-left-disabled":"arrow-left",disabled:x,onClick:function(){return g(-1)}}),Object(X.jsx)(ce,{className:U()("slider-arrow",{"button--slider-arrow--disabled":v}),iconType:v?"arrow-right-disabled":"arrow-right",disabled:v,onClick:function(){return g(1)}})]})]}),Object(X.jsx)("div",{className:"products-slider__carousel",style:{transform:"translateX(".concat(-s*(p?280:288),"px)"),transition:"transform 500ms"},onTouchStart:N,onTouchEnd:y,children:t})]})},_e=(c(64),function(){return Object(X.jsx)("div",{className:"loader",children:Object(X.jsx)("div",{className:"loader__content"})})}),xe=[{name:"Mobile phones",to:"/phones",img:"_new/img/category-phones.png"},{name:"Tablets",to:"/tablets",img:"_new/img/category-tablets.png"},{name:"Accessories",to:"/accessories",img:"_new/img/category-accessories.png"}],ve=(c(65),function(){var e=R((function(e){return e.products})),t=e.products,c=Object(B.useCallback)((function(e){return t.filter((function(t){return t.category===e})).length}),[t]);return Object(X.jsxs)("div",{className:"shop-by-category",children:[Object(X.jsx)("h1",{className:"shop-by-category__title",children:"Shop by category"}),Object(X.jsx)("div",{className:"shop-by-category__links-container","data-cy":"categoryLinksContainer",children:xe.map((function(e){var t=e.name,n=e.to,a=e.img;return Object(X.jsxs)("div",{className:"shop-by-category__card",children:[Object(X.jsxs)(s.b,{to:n,className:"shop-by-category__link",children:[Object(X.jsx)("div",{className:"shop-by-category__img-container\n                  shop-by-category__img-container--".concat(n.slice(1)),children:Object(X.jsx)("img",{src:a,alt:t,className:"shop-by-category__img\n                    shop-by-category__img-".concat(n.slice(1))})}),Object(X.jsx)("h3",{className:"shop-by-category__name",children:t})]}),Object(X.jsx)("p",{className:"shop-by-category__quantity",children:"".concat(c(n.slice(1))," models")})]},t)}))})]})}),ge=(c(66),function(e){var t=e.message;return Object(X.jsx)("div",{className:"notification",children:Object(X.jsx)("h2",{className:"notification__message",children:t})})});!function(e){e.FetchError="Error occurred during fetching products",e.ProductsUnavailable="Sorry, no products are currently available",e.NoFavoriteItems="There are no favorite items",e.NoMatchingProducts="No matching products found",e.EmptyCart="Your cart is empty",e.FeatureNotImplemented="We apologize, but this feature is not available yet"}(Oe||(Oe={}));c(67);var Ne=function(){var e=R((function(e){return e.products})),t=e.products,c=e.isLoading,n=e.hasError,a=Object(B.useMemo)((function(){return Object(v.a)(t).sort((function(e,t){var c=e.fullPrice-e.price;return t.fullPrice-t.price-c}))}),[t]),r=Object(B.useMemo)((function(){return Object(v.a)(t).filter((function(e){return e.year>2018}))}),[t]);return Object(X.jsxs)("div",{className:"home-page",children:[Object(X.jsx)("section",{className:"home-page__section banner",children:Object(X.jsx)(be,{})}),Object(X.jsxs)("section",{className:"home-page__section hot-prices",children:[c&&Object(X.jsx)(_e,{}),n&&Object(X.jsx)(ge,{message:Oe.FetchError}),!c&&!n&&!!a.length&&Object(X.jsx)(pe,{title:ae.HotPrice,itemsLength:a.length,children:Object(X.jsx)(fe,{sectionTitle:ae.HotPrice,products:a})})]}),Object(X.jsx)("section",{className:"home-page__section shop-by-category",children:Object(X.jsx)(ve,{})}),Object(X.jsxs)("section",{className:"home-page__section brand-new",children:[c&&Object(X.jsx)(_e,{}),n&&Object(X.jsx)(ge,{message:Oe.FetchError}),!c&&!n&&!!r.length&&Object(X.jsx)(pe,{title:ae.BrandNew,itemsLength:r.length,children:Object(X.jsx)(fe,{sectionTitle:ae.BrandNew,products:r})})]})]})},ye=(c(68),function(){var e=Object(Q.m)().pathname.split("/").filter((function(e){return""!==e})),t=e.map((function(t,c){var n,a=c===e.length-1?null:"/".concat(e.slice(0,c+1).join("/"));return{title:(n=t,n.split("-").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")),link:a}}));return Object(X.jsx)("nav",{"data-cy":"breadCrumbs",className:"breadcrumbs",children:Object(X.jsxs)("ul",{className:"breadcrumbs__list",children:[Object(X.jsx)("li",{className:"breadcrumbs__item",children:Object(X.jsx)(s.b,{to:"/",children:Object(X.jsx)(Y,{type:"home"})})}),t.map((function(e){var t=e.title,c=e.link;return Object(X.jsxs)("li",{className:"breadcrumbs__item",children:[Object(X.jsx)(Y,{type:"arrow-right-disabled"}),c?Object(X.jsx)(s.b,{to:c,className:"breadcrumbs__text",children:t}):Object(X.jsx)("span",{className:"breadcrumbs__text breadcrumbs__text--active",children:t})]},t)}))]})})}),ke=function(e,t){if(!t)return e;var c=t.trim().toLowerCase().split(" ");return e.filter((function(e){var t=e.name.toLowerCase().replace(/\s/g,"");return c.every((function(e){return t.includes(e)}))}))},we=(c(69),function(){var e,t=R((function(e){return e.favorites})),c=t.favorites,n=R((function(e){return e.search})),a=n.appliedSearchQuery,r=n.isSearchLoading,s=Object(B.useMemo)((function(){return ke(c,a)}),[c,a]);return e=r?Object(X.jsx)(_e,{}):s.length?Object(X.jsx)("div",{className:"favorites__products",children:Object(X.jsx)(fe,{products:s})}):Object(X.jsx)(ge,{message:Oe.NoMatchingProducts}),Object(X.jsx)("div",{className:"favorites-page",children:Object(X.jsxs)("section",{className:"favorites",children:[Object(X.jsxs)("div",{className:"favorites__wrapper",children:[Object(X.jsx)("div",{className:"favorites__nav",children:Object(X.jsx)(ye,{})}),Object(X.jsx)("h1",{className:"favorites__title",children:"Favorites"}),!!s.length&&!r&&Object(X.jsx)("div",{className:"favorites__count",children:"".concat(s.length," ").concat(1===s.length?"item":"items")})]}),c.length?e:Object(X.jsx)(ge,{message:Oe.NoFavoriteItems})]})})}),Ce=function(){return Object(X.jsx)(ce,{dataCy:"backButton",className:"back",content:"Back",iconType:"arrow-left",onClick:function(){return window.history.back()}})},Se=(c(70),function(e){var t=e.product,c=J(),n=t.id,a=t.quantity,r=t.image,i=t.name,o=t.price,l=Object(B.useMemo)((function(){return 1===a}),[a]);return Object(X.jsxs)("div",{className:"cartItem",children:[Object(X.jsx)(ce,{dataCy:"cartDeleteButton",className:"delete",iconType:"remove",onClick:function(){return c(L(t))}}),Object(X.jsxs)(s.b,{to:"/",className:"cartItem__link",children:[Object(X.jsx)("img",{src:"_new/".concat(r),alt:i,className:"cartItem__img"}),i]}),Object(X.jsxs)("div",{className:"cartItem__container",children:[Object(X.jsxs)("div",{className:"cartItem__count",children:[Object(X.jsx)(ce,{className:U()("subtract-quantity",{"button--subtract-quantity--disabled":l}),iconType:l?"minus-disabled":"minus",disabled:l,onClick:function(){return c(P(n))}}),Object(X.jsx)("p",{className:"cartItem__quantity",children:a}),Object(X.jsx)(ce,{className:"add-quantity",iconType:"plus",onClick:function(){return c(I(n))}})]}),Object(X.jsx)("p",{className:"cartItem__price-regular",children:"$".concat(o*a)})]})]})}),Ee=(c(71),function(){var e=R((function(e){return e.cart})),t=e.cartItems,c=Object(B.useState)(!1),n=Object(A.a)(c,2),a=n[0],r=n[1];Object(B.useEffect)((function(){var e=setTimeout((function(){r(!1)}),2e3);return function(){return clearTimeout(e)}}),[a]);var s=Object(B.useMemo)((function(){return V(t,"quantity")}),[t]);return Object(X.jsx)("div",{className:"cart-page",children:Object(X.jsxs)("section",{className:"cart",children:[Object(X.jsxs)("div",{className:"cart__wrapper",children:[Object(X.jsx)(Ce,{}),Object(X.jsx)("h1",{className:"cart__title",children:"Cart"})]}),t.length?Object(X.jsxs)("div",{className:"cart__content",children:[Object(X.jsx)("div",{className:"cart__items",children:t.map((function(e){return Object(X.jsx)(Se,{product:e},e.id)}))}),Object(X.jsxs)("div",{className:"cart__summary",children:[Object(X.jsxs)("div",{className:"cart__container",children:[Object(X.jsx)("div",{className:"cart__total-amount",children:"$".concat(V(t,"amount"))}),Object(X.jsx)("div",{"data-cy":"productQauntity",className:"cart__item-count",children:"Total for ".concat(s,"\n                  ").concat(1===s?"item":"items")})]}),Object(X.jsx)(ce,{className:"checkout",content:"Checkout",onClick:function(){return r(!0)}}),Object(X.jsx)("div",{className:U()("cart__message",{"cart__message--visible":a}),children:Object(X.jsx)(ge,{message:Oe.FeatureNotImplemented})})]})]}):Object(X.jsx)(ge,{message:Oe.EmptyCart})]})})}),Me=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("h1",{className:"title",children:"Page not found"}),Object(X.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente accusantium minima illum, cupiditate pariatur recusandae deleniti. Culpa sit, nesciunt dolore veritatis aliquid voluptatibus perspiciatis quam id obcaecati, autem amet eveniet."})]})},Te=c(11),Ie=c(5),Pe=c.n(Ie),Le=c(8),Fe=(c(72),function(e){var t=e.currentOption,c=e.searchName,n=e.options,a=Object(B.useState)(!1),r=Object(A.a)(a,2),i=r[0],o=r[1],l=Object(s.d)(),u=Object(A.a)(l,1)[0],d=Object(B.useRef)(null);return Object(B.useEffect)((function(){var e=function(e){d.current&&!d.current.contains(e.target)&&o(!1)},t=function(e){"Escape"===e.key&&i&&o(!1)};return document.addEventListener("click",e),document.addEventListener("keydown",t),function(){document.removeEventListener("click",e),document.removeEventListener("keydown",t)}}),[i]),Object(X.jsxs)("div",{ref:d,className:"dropdown",children:[Object(X.jsx)(ce,{className:U()("dropdown",{"button--dropdown-focus":i}),content:t,iconType:"arrow-down",iconPosition:"right",onClick:function(){return o(!i)}}),Object(X.jsx)("ul",{className:U()("dropdown__list",{"dropdown__list--visible":i}),children:n.map((function(e){var t=e.label,n=e.value;return Object(X.jsx)(s.b,{to:{search:ne(u,Object(Le.a)({},c,n))},className:"dropdown__link",onClick:function(){return o(!1)},children:t},n)}))})]})}),qe=[{label:"Newest",value:"age"},{label:"Alphabetically",value:"name"},{label:"Cheapest",value:"price"}],Qe=[{label:"4",value:"4"},{label:"8",value:"8"},{label:"16",value:"16"},{label:"All",value:"all"}];function Ae(e,t){var c=e.find((function(e){return e.value===t}));return c?c.label:void 0}c(73);var Be,Je=function(e){var t=e.currentPage,c=e.totalPages,n=Object(s.d)(),a=Object(A.a)(n,1)[0],r=1===+t,i=+t===c,o=Math.max(1,+t-1),l=Math.min(o+2,c);l-o<4&&(o=Math.max(1,l-2));var u=function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n.toString());return c}(o,l);return Object(X.jsxs)("div",{"data-cy":"pagination",className:"pagination",children:[Object(X.jsx)(s.b,{"data-cy":"paginationLeft",className:U()("pagination__button",{"pagination__button--disabled":r}),to:{search:ne(a,{page:"".concat(+t-1)})},"aria-disabled":r?"true":"false",children:Object(X.jsx)(Y,{type:r?"arrow-left-disabled":"arrow-left"})}),Object(X.jsxs)("ul",{className:"pagination__list",children:[o>1&&Object(X.jsx)("li",{className:"pagination__item",children:Object(X.jsx)(s.b,{className:"pagination__link",to:{search:ne(a,{page:"1"})},children:"1"})}),o>2&&Object(X.jsx)("li",{className:"pagination__item",children:Object(X.jsx)("span",{className:"pagination__gap",children:"..."})}),u.map((function(e){return Object(X.jsx)("li",{className:"pagination__item",children:Object(X.jsx)(s.b,{className:U()("pagination__link",{"pagination__link--active":e===t}),to:{search:ne(a,{page:e})},children:e})},e)})),l<c-1&&Object(X.jsx)("li",{className:"pagination__item",children:Object(X.jsx)("span",{className:"pagination__gap",children:"..."})}),l<c&&Object(X.jsx)("li",{className:"pagination__item",children:Object(X.jsx)(s.b,{className:"pagination__link",to:{search:ne(a,{page:c.toString()})},children:c})})]}),Object(X.jsx)(s.b,{"data-cy":"paginationRight",className:U()("pagination__button",{"pagination__button--disabled":i}),to:{search:ne(a,{page:"".concat(+t+1)})},"aria-disabled":i?"true":"false",children:Object(X.jsx)(Y,{type:i?"arrow-right-disabled":"arrow-right"})})]})},Re=(c(74),function(e){var t,c=e.products,n=e.hasError,a=e.isLoading,r=e.category,i=Object(s.d)(),o=Object(A.a)(i,2),l=o[0],u=o[1],d=R((function(e){return e.search})),j=d.appliedSearchQuery,b=d.isSearchLoading,m=l.get("sort")||"",h=l.get("page")||"1",f=l.get("perPage")||"16",O=Object(B.useMemo)((function(){return"all"===f}),[f]),p=Object(B.useMemo)((function(){return Ae(qe,m)}),[m])||"Choose option",_=Object(B.useMemo)((function(){return Ae(Qe,f)}),[f])||f,x=Object(B.useMemo)((function(){return function(e,t){return t?Object(v.a)(e).sort((function(e,c){switch(t){case"age":return c.year-e.year;case"name":return e.name.localeCompare(c.name);case"price":return e.price-c.price;default:return 0}})):e}(c,m)}),[c,m]),g=Object(B.useMemo)((function(){return ke(x,j)}),[x,j]),N=Object(B.useMemo)((function(){return Math.ceil(g.length/+f)}),[g.length,f]),y=Object(B.useMemo)((function(){return O?g:function(e,t,c){var n=(+e-1)*+t,a=Math.min(n+ +t,c.length);return c.slice(n,a)}(h,f,g)}),[h,f,g]),k=Object(B.useMemo)((function(){return g.length<5}),[g]);return t=b?Object(X.jsx)(_e,{}):g.length?Object(X.jsx)("div",{className:"products__list",children:Object(X.jsx)(fe,{products:y})}):Object(X.jsx)(ge,{message:Oe.NoMatchingProducts}),Object(B.useEffect)((function(){u(ne(l,k?{page:null,perPage:null}:{page:"1",perPage:f}))}),[f,k]),Object(X.jsx)("div",{className:"products-page",children:Object(X.jsxs)("section",{className:"products",children:[Object(X.jsxs)("div",{className:"products__wrapper",children:[Object(X.jsx)("div",{className:"products__nav",children:Object(X.jsx)(ye,{})}),Object(X.jsx)("h1",{className:"products__title",children:r}),!!g.length&&!b&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:"products__count",children:"".concat(g.length," ").concat(1===g.length?"item":"items")}),Object(X.jsxs)("div",{className:"products__filter-wrapper",children:[Object(X.jsxs)("div",{className:"products__filter-container products__filter-container--sort-by",children:[Object(X.jsx)("p",{className:"products__filter-description",children:"Sort by"}),Object(X.jsx)(Fe,{currentOption:p,searchName:"sort",options:qe})]}),!k&&Object(X.jsxs)("div",{className:"products__filter-container products__filter-container--items-per-page",children:[Object(X.jsx)("p",{className:"products__filter-description",children:"Items on page"}),Object(X.jsx)(Fe,{currentOption:_,searchName:"perPage",options:Qe})]})]})]})]}),a&&Object(X.jsx)(_e,{}),n&&Object(X.jsx)(ge,{message:Oe.FetchError}),!a&&!n&&!!c.length&&t,!c.length&&!a&&!n&&Object(X.jsx)(ge,{message:Oe.ProductsUnavailable}),!k&&!!g.length&&!b&&!O&&Object(X.jsx)(Je,{currentPage:h,totalPages:N})]})})});!function(e){e.Phones="phones",e.MobilePhones="Mobile phones",e.Tablets="tablets",e.Accessories="accessories"}(Be||(Be={}));var We=function(){var e=Object(B.useState)([]),t=Object(A.a)(e,2),c=t[0],n=t[1],a=Object(B.useState)(!1),r=Object(A.a)(a,2),s=r[0],i=r[1],o=Object(B.useState)(!1),l=Object(A.a)(o,2),d=l[0],j=l[1];return Object(B.useEffect)((function(){var e=function(){var e=Object(Te.a)(Pe.a.mark((function e(){var t;return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,u();case 4:t=e.sent.filter((function(e){return"phones"===e.category})),n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j(!0);case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(X.jsx)("section",{className:"phones-page",children:Object(X.jsx)(Re,{products:c,hasError:d,isLoading:s,category:Be.MobilePhones})})},Xe=(c(75),function(){return Object(X.jsx)("div",{className:"App",children:Object(X.jsx)(de,{children:Object(X.jsxs)(Q.d,{children:[Object(X.jsx)(Q.b,{index:!0,element:Object(X.jsx)(Ne,{})}),Object(X.jsx)(Q.b,{path:"home",element:Object(X.jsx)(Q.a,{to:"/",replace:!0})}),Object(X.jsx)(Q.b,{path:"phones",element:Object(X.jsx)(We,{}),children:Object(X.jsx)(Q.b,{path:":slug",element:Object(X.jsx)(We,{})})}),Object(X.jsx)(Q.b,{path:"favorites",element:Object(X.jsx)(we,{})}),Object(X.jsx)(Q.b,{path:"cart",element:Object(X.jsx)(Ee,{})}),Object(X.jsx)(Q.b,{path:"*",element:Object(X.jsx)(Me,{})})]})})})});r.a.render(Object(X.jsx)(s.a,{children:Object(X.jsx)(i.a,{store:q,children:Object(X.jsx)(Xe,{})})}),document.getElementById("root"))}]),[[76,1,2]]]);
//# sourceMappingURL=main.a8f5fa17.chunk.js.map